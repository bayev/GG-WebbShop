@page
@model GG_Webbshop.Pages.CartViewModel
@{
}

<head>
    @*<link rel="stylesheet" href="~/css/Site.css">*@
    <link rel="stylesheet" href="~/css/CheckoutStyle.css">
</head>

@if (Model.Message != null)
{
    bool returnTokenValue = TokenChecker.UserStatus;


    <h2>@Model.Message</h2>
    <a class="btn btn-dark" href="#" onclick="history.go(-1)">Tillbaka</a>
    @if (returnTokenValue == false)
    {
        <a class="btn btn-primary" href="/LoginView">Logga in</a>
        <a class="btn btn-success" href="/RegisterPage">Registrera ett konto</a>
    }
}
else
{

<div class="px-4 px-lg-0">
    <div class="pb-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 p-5 bg-white rounded shadow-sm mb-5">

                    <!-- Shopping cart table -->
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col" class="border-0 bg-light">
                                        <div class="p-2 px-3 text-uppercase">Produkter</div>
                                    </th>
                                    <th scope="col" class="border-0 bg-light">
                                        <div class="py-2 text-uppercase">Pris</div>
                                    </th>
                                    <th scope="col" class="border-0 bg-light">
                                        <div class="py-2 text-uppercase">Antal</div>
                                    </th>
                                    <th scope="col" class="border-0 bg-light">
                                        <div class="py-2 text-uppercase">Ta bort</div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var c2p in Model.c2pRM)
                                {
                                    <tr>
                                        <th scope="row" class="border-0">
                                            <div class="p-2">
                                                <img src="~/img/@c2p.Image" alt="" width="70" class="img-fluid rounded shadow-sm">
                                                <div class="ml-3 d-inline-block align-middle">
                                                    <h5 class="mb-0"> <a href="/ProductView/?Id=@c2p.Id" class="text-dark d-inline-block align-middle">@c2p.Name</a></h5><span class="text-muted font-weight-normal font-italic d-block">Kategori: @c2p.Category</span>
                                                </div>
                                            </div>
                                        </th>
                                        <td class="border-0 align-middle"><strong>@c2p.Price</strong></td>
                                        <td class="border-0 align-middle" style="padding-left: 30px;">
                                            <div class="qty mt-5">
                                                <a href="?PlusMinus=false&c2pIdUpdate=@c2p.C2PId" class="minus bg-dark">-</a>
                                                @*<input type="number" class="count" name="qty" value="@c2p.Amount">*@
                                                @c2p.Amount
                                                <a href="?PlusMinus=true&c2pIdUpdate=@c2p.C2PId" class="plus bg-dark">+</a>
                                            </div>
                                        </td>
                                        @*<td class="border-0 align-middle" style="padding-left: 30px;"><strong>@c2p.Amount</strong></td>*@
                                        <td class="border-0 align-middle"><a href="?id=@c2p.C2PId" class="text-dark" style="padding-left: 25px;"><i class="bi bi-trash"></i></a></td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                    <!-- End -->
                </div>
            </div>


            <!--RABBATKODSSTYCKE -->
            <div class="row py-5 p-4 bg-white rounded shadow-sm align-content-lg-center">
                @*<div class="col-lg-6">
                        <div class="bg-light rounded-pill px-4 py-3 text-uppercase font-weight-bold">Rabatt kod</div>
                        <div class="p-4">
                            <p class="font-italic mb-4">Om du har en rabatt kod, vänligen skriv in den här</p>
                            <div class="input-group mb-4 border rounded-pill p-2">
                                <input type="text" placeholder="Apply coupon" aria-describedby="button-addon3" class="form-control border-0">
                                <div class="input-group-append border-0">
                                    <button id="button-addon3" type="button" class="btn btn-dark px-4 rounded-pill"><i class="fa fa-gift mr-2"></i>Aktivera</button>
                                </div>
                            </div>
                        </div>
                        <div class="bg-light rounded-pill px-4 py-3 text-uppercase font-weight-bold">Meddelande till oss</div>
                        <div class="p-4">
                            <p class="font-italic mb-4">Information till säljare, ange här</p>
                            <textarea name="" cols="30" rows="2" class="form-control"></textarea>
                        </div>
                    </div>*@

                <!--RABBATKODSSTYCKE SLUT -->
                <!--TOTAL -->
                <div class="col-lg-6">
                    <div class="bg-light rounded-pill px-4 py-3 text-uppercase font-weight-bold">Total </div>
                    <div class="p-4">
                        <ul class="list-unstyled mb-4">
                            <li class="d-flex justify-content-between py-3 border-bottom"><strong class="text-muted">Exkl. Moms </strong><strong>@Model.VATprice</strong></li>
                            <li class="d-flex justify-content-between py-3 border-bottom"><strong class="text-muted">Frakt</strong><strong>55.00</strong></li>
                            <li class="d-flex justify-content-between py-3 border-bottom"><strong class="text-muted">Moms</strong><strong>25%</strong></li>
                            <li class="d-flex justify-content-between py-3 border-bottom">
                                <strong class="text-muted">Total</strong>
                                <h5 class="font-weight-bold">@Model.TotalPrice</h5>
                            </li>
                        </ul><a href="#" class="btn btn-dark rounded-pill py-2 btn-block">Betala</a>
                    </div>
                </div>
                <!--TOTAL SLUT -->

            </div>

        </div>
    </div>
 
    <div class="row justify-content-center">
        <div class="col-lg-12">
            <div class="card">
                <div class="row">
                    <div class="col-lg-3 radio-group">
                        <div class="row d-flex px-3 radio">
                            <img class="pay" src="https://i.imgur.com/WIAP9Ku.jpg">
                            <p class="my-auto">Credit Card</p>
                        </div>
                        <div class="row d-flex px-3 radio">
                            <img class="pay" src="https://i.imgur.com/OdxcctP.jpg">
                            <p class="my-auto">Debit Card</p>
                        </div>
                        <div class="row d-flex px-3 radio mb-3">
                            <img class="pay" src="https://i.imgur.com/cMk1MtK.jpg">
                            <p class="my-auto">PayPal</p>
                        </div>
                    </div>
                    <div class="col-lg-5">
                        <div class="row px-2">
                            <div class="form-group col-md-6"> <label class="form-control-label">Name on Card</label> <input type="text" id="cname" name="cname" placeholder="Johnny Doe"> </div>
                            <div class="form-group col-md-6"> <label class="form-control-label">Card Number</label> <input type="text" id="cnum" name="cnum" placeholder="1111 2222 3333 4444"> </div>
                        </div>
                        <div class="row px-2">
                            <div class="form-group col-md-6"> <label class="form-control-label">Expiration Date</label> <input type="text" id="exp" name="exp" placeholder="MM/YYYY"> </div>
                            <div class="form-group col-md-6"> <label class="form-control-label">CVV</label> <input type="text" id="cvv" name="cvv" placeholder="***"> </div>
                        </div>
                    </div>
                    <div class="col-lg-4 mt-2">
                        <div class="row d-flex justify-content-between px-4">
                            <p class="mb-1 text-left">Subtotal</p>
                            <h6 class="mb-1 text-right">$23.49</h6>
                        </div>
                        <div class="row d-flex justify-content-between px-4">
                            <p class="mb-1 text-left">Shipping</p>
                            <h6 class="mb-1 text-right">$2.99</h6>
                        </div>
                        <div class="row d-flex justify-content-between px-4" id="tax">
                            <p class="mb-1 text-left">Total (tax included)</p>
                            <h6 class="mb-1 text-right">$26.48</h6>
                        </div> <button class="btn-block btn-blue"> <span> <span id="checkout">Checkout</span> <span id="check-amt">$26.48</span> </span> </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



}
